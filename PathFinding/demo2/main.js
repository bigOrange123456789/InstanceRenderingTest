(()=>{var i={191:(t,e,i)=>{i(956)},956:(t,e,i)=>{t.exports=i(706)},706:(t,e,i)=>{t.exports={Heap:i(712),Node:i(988),Grid:i(242),Util:i(420),DiagonalMovement:i(867),Heuristic:i(253),AStarFinder:i(34),BestFirstFinder:i(25),BreadthFirstFinder:i(423),DijkstraFinder:i(348),BiAStarFinder:i(935),BiBestFirstFinder:i(55),BiBreadthFirstFinder:i(766),BiDijkstraFinder:i(130),IDAStarFinder:i(592),JumpPointFinder:i(120)}},867:t=>{t.exports={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4}},242:(t,e,i)=>{var s=i(988),o=i(867);function n(t,e,i){var s;"object"!=typeof t?s=t:(e=t.length,s=t[0].length,i=t),this.width=s,this.height=e,this.nodes=this._buildNodes(s,e,i)}n.prototype._buildNodes=function(t,e,i){var o,n,r=new Array(e);for(o=0;o<e;++o)for(r[o]=new Array(t),n=0;n<t;++n)r[o][n]=new s(n,o);if(void 0===i)return r;if(i.length!==e||i[0].length!==t)throw new Error("Matrix size does not fit");for(o=0;o<e;++o)for(n=0;n<t;++n)i[o][n]&&(r[o][n].walkable=!1);return r},n.prototype.getNodeAt=function(t,e){return this.nodes[e][t]},n.prototype.isWalkableAt=function(t,e){return this.isInside(t,e)&&this.nodes[e][t].walkable},n.prototype.isInside=function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height},n.prototype.setWalkableAt=function(t,e,i){this.nodes[e][t].walkable=i},n.prototype.getNeighbors=function(t,e){var i=t.x,s=t.y,n=[],r=!1,a=!1,l=!1,h=!1,p=!1,u=!1,c=!1,d=!1,f=this.nodes;if(this.isWalkableAt(i,s-1)&&(n.push(f[s-1][i]),r=!0),this.isWalkableAt(i+1,s)&&(n.push(f[s][i+1]),l=!0),this.isWalkableAt(i,s+1)&&(n.push(f[s+1][i]),p=!0),this.isWalkableAt(i-1,s)&&(n.push(f[s][i-1]),c=!0),e===o.Never)return n;if(e===o.OnlyWhenNoObstacles)a=c&&r,h=r&&l,u=l&&p,d=p&&c;else if(e===o.IfAtMostOneObstacle)a=c||r,h=r||l,u=l||p,d=p||c;else{if(e!==o.Always)throw new Error("Incorrect value of diagonalMovement");a=!0,h=!0,u=!0,d=!0}return a&&this.isWalkableAt(i-1,s-1)&&n.push(f[s-1][i-1]),h&&this.isWalkableAt(i+1,s-1)&&n.push(f[s-1][i+1]),u&&this.isWalkableAt(i+1,s+1)&&n.push(f[s+1][i+1]),d&&this.isWalkableAt(i-1,s+1)&&n.push(f[s+1][i-1]),n},n.prototype.clone=function(){var t,e,i=this.width,o=this.height,r=this.nodes,a=new n(i,o),l=new Array(o);for(t=0;t<o;++t)for(l[t]=new Array(i),e=0;e<i;++e)l[t][e]=new s(e,t,r[t][e].walkable);return a.nodes=l,a},t.exports=n},253:t=>{t.exports={manhattan:function(t,e){return t+e},euclidean:function(t,e){return Math.sqrt(t*t+e*e)},octile:function(t,e){var i=Math.SQRT2-1;return t<e?i*t+e:i*e+t},chebyshev:function(t,e){return Math.max(t,e)}}},988:t=>{t.exports=function(t,e,i){this.x=t,this.y=e,this.walkable=void 0===i||i}},420:(t,e)=>{function i(t){for(var e=[[t.x,t.y]];t.parent;)t=t.parent,e.push([t.x,t.y]);return e.reverse()}function s(t,e,i,s){var o,n,r,a,l,h,p=Math.abs,u=[];for(o=t<i?1:-1,n=e<s?1:-1,l=(r=p(i-t))-(a=p(s-e));u.push([t,e]),t!==i||e!==s;)(h=2*l)>-a&&(l-=a,t+=o),h<r&&(l+=r,e+=n);return u}e.backtrace=i,e.biBacktrace=function(t,e){var s=i(t),o=i(e);return s.concat(o.reverse())},e.pathLength=function(t){var e,i,s,o,n,r=0;for(e=1;e<t.length;++e)i=t[e-1],s=t[e],o=i[0]-s[0],n=i[1]-s[1],r+=Math.sqrt(o*o+n*n);return r},e.interpolate=s,e.expandPath=function(t){var e,i,o,n,r,a,l=[],h=t.length;if(h<2)return l;for(r=0;r<h-1;++r)for(e=t[r],i=t[r+1],n=(o=s(e[0],e[1],i[0],i[1])).length,a=0;a<n-1;++a)l.push(o[a]);return l.push(t[h-1]),l},e.smoothenPath=function(t,e){var i,o,n,r,a,l,h,p,u,c=e.length,d=e[0][0],f=e[0][1],g=e[c-1][0],b=e[c-1][1];for(n=[[i=d,o=f]],r=2;r<c;++r){for(h=s(i,o,(l=e[r])[0],l[1]),u=!1,a=1;a<h.length;++a)if(p=h[a],!t.isWalkableAt(p[0],p[1])){u=!0;break}u&&(lastValidCoord=e[r-1],n.push(lastValidCoord),i=lastValidCoord[0],o=lastValidCoord[1])}return n.push([g,b]),n},e.compressPath=function(t){if(t.length<3)return t;var e,i,s,o,n,r,a=[],l=t[0][0],h=t[0][1],p=t[1][0],u=t[1][1],c=p-l,d=u-h;for(c/=n=Math.sqrt(c*c+d*d),d/=n,a.push([l,h]),r=2;r<t.length;r++)e=p,i=u,s=c,o=d,c=(p=t[r][0])-e,d=(u=t[r][1])-i,d/=n=Math.sqrt(c*c+d*d),(c/=n)===s&&d===o||a.push([e,i]);return a.push([p,u]),a}},34:(t,e,i)=>{var s=i(712),o=i(420),n=i(253),r=i(867);function a(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||n.manhattan,this.weight=t.weight||1,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=r.OnlyWhenNoObstacles:this.diagonalMovement=r.IfAtMostOneObstacle:this.diagonalMovement=r.Never),this.diagonalMovement===r.Never?this.heuristic=t.heuristic||n.manhattan:this.heuristic=t.heuristic||n.octile}a.prototype.findPath=function(t,e,i,n,r){var a,l,h,p,u,c,d,f,g=new s((function(t,e){return t.f-e.f})),b=r.getNodeAt(t,e),A=r.getNodeAt(i,n),y=this.heuristic,k=this.diagonalMovement,v=this.weight,m=Math.abs,W=Math.SQRT2;for(b.g=0,b.f=0,g.push(b),b.opened=!0;!g.empty();){if((a=g.pop()).closed=!0,a===A)return o.backtrace(A);for(p=0,u=(l=r.getNeighbors(a,k)).length;p<u;++p)(h=l[p]).closed||(c=h.x,d=h.y,f=a.g+(c-a.x==0||d-a.y==0?1:W),(!h.opened||f<h.g)&&(h.g=f,h.h=h.h||v*y(m(c-i),m(d-n)),h.f=h.g+h.h,h.parent=a,h.opened?g.updateItem(h):(g.push(h),h.opened=!0)))}return[]},t.exports=a},25:(t,e,i)=>{var s=i(34);function o(t){s.call(this,t);var e=this.heuristic;this.heuristic=function(t,i){return 1e6*e(t,i)}}o.prototype=new s,o.prototype.constructor=o,t.exports=o},935:(t,e,i)=>{var s=i(712),o=i(420),n=i(253),r=i(867);function a(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||n.manhattan,this.weight=t.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=r.OnlyWhenNoObstacles:this.diagonalMovement=r.IfAtMostOneObstacle:this.diagonalMovement=r.Never),this.diagonalMovement===r.Never?this.heuristic=t.heuristic||n.manhattan:this.heuristic=t.heuristic||n.octile}a.prototype.findPath=function(t,e,i,n,r){var a,l,h,p,u,c,d,f,g=function(t,e){return t.f-e.f},b=new s(g),A=new s(g),y=r.getNodeAt(t,e),k=r.getNodeAt(i,n),v=this.heuristic,m=this.diagonalMovement,W=this.weight,M=Math.abs,x=Math.SQRT2;for(y.g=0,y.f=0,b.push(y),y.opened=1,k.g=0,k.f=0,A.push(k),k.opened=2;!b.empty()&&!A.empty();){for((a=b.pop()).closed=!0,p=0,u=(l=r.getNeighbors(a,m)).length;p<u;++p)if(!(h=l[p]).closed){if(2===h.opened)return o.biBacktrace(a,h);c=h.x,d=h.y,f=a.g+(c-a.x==0||d-a.y==0?1:x),(!h.opened||f<h.g)&&(h.g=f,h.h=h.h||W*v(M(c-i),M(d-n)),h.f=h.g+h.h,h.parent=a,h.opened?b.updateItem(h):(b.push(h),h.opened=1))}for((a=A.pop()).closed=!0,p=0,u=(l=r.getNeighbors(a,m)).length;p<u;++p)if(!(h=l[p]).closed){if(1===h.opened)return o.biBacktrace(h,a);c=h.x,d=h.y,f=a.g+(c-a.x==0||d-a.y==0?1:x),(!h.opened||f<h.g)&&(h.g=f,h.h=h.h||W*v(M(c-t),M(d-e)),h.f=h.g+h.h,h.parent=a,h.opened?A.updateItem(h):(A.push(h),h.opened=2))}}return[]},t.exports=a},55:(t,e,i)=>{var s=i(935);function o(t){s.call(this,t);var e=this.heuristic;this.heuristic=function(t,i){return 1e6*e(t,i)}}o.prototype=new s,o.prototype.constructor=o,t.exports=o},766:(t,e,i)=>{var s=i(420),o=i(867);function n(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never)}n.prototype.findPath=function(t,e,i,o,n){var r,a,l,h,p,u=n.getNodeAt(t,e),c=n.getNodeAt(i,o),d=[],f=[],g=this.diagonalMovement;for(d.push(u),u.opened=!0,u.by=0,f.push(c),c.opened=!0,c.by=1;d.length&&f.length;){for((l=d.shift()).closed=!0,h=0,p=(r=n.getNeighbors(l,g)).length;h<p;++h)if(!(a=r[h]).closed)if(a.opened){if(1===a.by)return s.biBacktrace(l,a)}else d.push(a),a.parent=l,a.opened=!0,a.by=0;for((l=f.shift()).closed=!0,h=0,p=(r=n.getNeighbors(l,g)).length;h<p;++h)if(!(a=r[h]).closed)if(a.opened){if(0===a.by)return s.biBacktrace(a,l)}else f.push(a),a.parent=l,a.opened=!0,a.by=1}return[]},t.exports=n},130:(t,e,i)=>{var s=i(935);function o(t){s.call(this,t),this.heuristic=function(t,e){return 0}}o.prototype=new s,o.prototype.constructor=o,t.exports=o},423:(t,e,i)=>{var s=i(420),o=i(867);function n(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never)}n.prototype.findPath=function(t,e,i,o,n){var r,a,l,h,p,u=[],c=this.diagonalMovement,d=n.getNodeAt(t,e),f=n.getNodeAt(i,o);for(u.push(d),d.opened=!0;u.length;){if((l=u.shift()).closed=!0,l===f)return s.backtrace(f);for(h=0,p=(r=n.getNeighbors(l,c)).length;h<p;++h)(a=r[h]).closed||a.opened||(u.push(a),a.opened=!0,a.parent=l)}return[]},t.exports=n},348:(t,e,i)=>{var s=i(34);function o(t){s.call(this,t),this.heuristic=function(t,e){return 0}}o.prototype=new s,o.prototype.constructor=o,t.exports=o},592:(t,e,i)=>{i(420);var s=i(253),o=i(988),n=i(867);function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||s.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=n.OnlyWhenNoObstacles:this.diagonalMovement=n.IfAtMostOneObstacle:this.diagonalMovement=n.Never),this.diagonalMovement===n.Never?this.heuristic=t.heuristic||s.manhattan:this.heuristic=t.heuristic||s.octile}r.prototype.findPath=function(t,e,i,s,n){var r,a,l,h=(new Date).getTime(),p=function(t,e){return this.heuristic(Math.abs(e.x-t.x),Math.abs(e.y-t.y))}.bind(this),u=function(t,e){return t.x===e.x||t.y===e.y?1:Math.SQRT2},c=function(t,e,i,s,r){if(this.timeLimit>0&&(new Date).getTime()-h>1e3*this.timeLimit)return 1/0;var a,l,d,g,b=e+p(t,f)*this.weight;if(b>i)return b;if(t==f)return s[r]=[t.x,t.y],t;var A=n.getNeighbors(t,this.diagonalMovement);for(d=0,a=1/0;g=A[d];++d){if(this.trackRecursion&&(g.retainCount=g.retainCount+1||1,!0!==g.tested&&(g.tested=!0)),(l=c(g,e+u(t,g),i,s,r+1))instanceof o)return s[r]=[t.x,t.y],l;this.trackRecursion&&0==--g.retainCount&&(g.tested=!1),l<a&&(a=l)}return a}.bind(this),d=n.getNodeAt(t,e),f=n.getNodeAt(i,s),g=p(d,f);for(r=0;;++r){if((l=c(d,0,g,a=[],0))===1/0)return[];if(l instanceof o)return a;g=l}return[]},t.exports=r},476:(t,e,i)=>{var s=i(127),o=i(867);function n(t){s.call(this,t)}n.prototype=new s,n.prototype.constructor=n,n.prototype._jump=function(t,e,i,s){var o=this.grid,n=t-i,r=e-s;if(!o.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==n&&0!==r){if(o.isWalkableAt(t-n,e+r)&&!o.isWalkableAt(t-n,e)||o.isWalkableAt(t+n,e-r)&&!o.isWalkableAt(t,e-r))return[t,e];if(this._jump(t+n,e,t,e)||this._jump(t,e+r,t,e))return[t,e]}else if(0!==n){if(o.isWalkableAt(t+n,e+1)&&!o.isWalkableAt(t,e+1)||o.isWalkableAt(t+n,e-1)&&!o.isWalkableAt(t,e-1))return[t,e]}else if(o.isWalkableAt(t+1,e+r)&&!o.isWalkableAt(t+1,e)||o.isWalkableAt(t-1,e+r)&&!o.isWalkableAt(t-1,e))return[t,e];return this._jump(t+n,e+r,t,e)},n.prototype._findNeighbors=function(t){var e,i,s,n,r,a,l,h,p=t.parent,u=t.x,c=t.y,d=this.grid,f=[];if(p)e=p.x,i=p.y,s=(u-e)/Math.max(Math.abs(u-e),1),n=(c-i)/Math.max(Math.abs(c-i),1),0!==s&&0!==n?(d.isWalkableAt(u,c+n)&&f.push([u,c+n]),d.isWalkableAt(u+s,c)&&f.push([u+s,c]),d.isWalkableAt(u+s,c+n)&&f.push([u+s,c+n]),d.isWalkableAt(u-s,c)||f.push([u-s,c+n]),d.isWalkableAt(u,c-n)||f.push([u+s,c-n])):0===s?(d.isWalkableAt(u,c+n)&&f.push([u,c+n]),d.isWalkableAt(u+1,c)||f.push([u+1,c+n]),d.isWalkableAt(u-1,c)||f.push([u-1,c+n])):(d.isWalkableAt(u+s,c)&&f.push([u+s,c]),d.isWalkableAt(u,c+1)||f.push([u+s,c+1]),d.isWalkableAt(u,c-1)||f.push([u+s,c-1]));else for(l=0,h=(r=d.getNeighbors(t,o.Always)).length;l<h;++l)a=r[l],f.push([a.x,a.y]);return f},t.exports=n},149:(t,e,i)=>{var s=i(127),o=i(867);function n(t){s.call(this,t)}n.prototype=new s,n.prototype.constructor=n,n.prototype._jump=function(t,e,i,s){var o=this.grid,n=t-i,r=e-s;if(!o.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==n&&0!==r){if(o.isWalkableAt(t-n,e+r)&&!o.isWalkableAt(t-n,e)||o.isWalkableAt(t+n,e-r)&&!o.isWalkableAt(t,e-r))return[t,e];if(this._jump(t+n,e,t,e)||this._jump(t,e+r,t,e))return[t,e]}else if(0!==n){if(o.isWalkableAt(t+n,e+1)&&!o.isWalkableAt(t,e+1)||o.isWalkableAt(t+n,e-1)&&!o.isWalkableAt(t,e-1))return[t,e]}else if(o.isWalkableAt(t+1,e+r)&&!o.isWalkableAt(t+1,e)||o.isWalkableAt(t-1,e+r)&&!o.isWalkableAt(t-1,e))return[t,e];return o.isWalkableAt(t+n,e)||o.isWalkableAt(t,e+r)?this._jump(t+n,e+r,t,e):null},n.prototype._findNeighbors=function(t){var e,i,s,n,r,a,l,h,p=t.parent,u=t.x,c=t.y,d=this.grid,f=[];if(p)e=p.x,i=p.y,s=(u-e)/Math.max(Math.abs(u-e),1),n=(c-i)/Math.max(Math.abs(c-i),1),0!==s&&0!==n?(d.isWalkableAt(u,c+n)&&f.push([u,c+n]),d.isWalkableAt(u+s,c)&&f.push([u+s,c]),(d.isWalkableAt(u,c+n)||d.isWalkableAt(u+s,c))&&f.push([u+s,c+n]),!d.isWalkableAt(u-s,c)&&d.isWalkableAt(u,c+n)&&f.push([u-s,c+n]),!d.isWalkableAt(u,c-n)&&d.isWalkableAt(u+s,c)&&f.push([u+s,c-n])):0===s?d.isWalkableAt(u,c+n)&&(f.push([u,c+n]),d.isWalkableAt(u+1,c)||f.push([u+1,c+n]),d.isWalkableAt(u-1,c)||f.push([u-1,c+n])):d.isWalkableAt(u+s,c)&&(f.push([u+s,c]),d.isWalkableAt(u,c+1)||f.push([u+s,c+1]),d.isWalkableAt(u,c-1)||f.push([u+s,c-1]));else for(l=0,h=(r=d.getNeighbors(t,o.IfAtMostOneObstacle)).length;l<h;++l)a=r[l],f.push([a.x,a.y]);return f},t.exports=n},86:(t,e,i)=>{var s=i(127),o=i(867);function n(t){s.call(this,t)}n.prototype=new s,n.prototype.constructor=n,n.prototype._jump=function(t,e,i,s){var o=this.grid,n=t-i,r=e-s;if(!o.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==n&&0!==r){if(this._jump(t+n,e,t,e)||this._jump(t,e+r,t,e))return[t,e]}else if(0!==n){if(o.isWalkableAt(t,e-1)&&!o.isWalkableAt(t-n,e-1)||o.isWalkableAt(t,e+1)&&!o.isWalkableAt(t-n,e+1))return[t,e]}else if(0!==r&&(o.isWalkableAt(t-1,e)&&!o.isWalkableAt(t-1,e-r)||o.isWalkableAt(t+1,e)&&!o.isWalkableAt(t+1,e-r)))return[t,e];return o.isWalkableAt(t+n,e)&&o.isWalkableAt(t,e+r)?this._jump(t+n,e+r,t,e):null},n.prototype._findNeighbors=function(t){var e,i,s,n,r,a,l,h,p,u=t.parent,c=t.x,d=t.y,f=this.grid,g=[];if(u){if(e=u.x,i=u.y,s=(c-e)/Math.max(Math.abs(c-e),1),n=(d-i)/Math.max(Math.abs(d-i),1),0!==s&&0!==n)f.isWalkableAt(c,d+n)&&g.push([c,d+n]),f.isWalkableAt(c+s,d)&&g.push([c+s,d]),f.isWalkableAt(c,d+n)&&f.isWalkableAt(c+s,d)&&g.push([c+s,d+n]);else if(0!==s){p=f.isWalkableAt(c+s,d);var b=f.isWalkableAt(c,d+1),A=f.isWalkableAt(c,d-1);p&&(g.push([c+s,d]),b&&g.push([c+s,d+1]),A&&g.push([c+s,d-1])),b&&g.push([c,d+1]),A&&g.push([c,d-1])}else if(0!==n){p=f.isWalkableAt(c,d+n);var y=f.isWalkableAt(c+1,d),k=f.isWalkableAt(c-1,d);p&&(g.push([c,d+n]),y&&g.push([c+1,d+n]),k&&g.push([c-1,d+n])),y&&g.push([c+1,d]),k&&g.push([c-1,d])}}else for(l=0,h=(r=f.getNeighbors(t,o.OnlyWhenNoObstacles)).length;l<h;++l)a=r[l],g.push([a.x,a.y]);return g},t.exports=n},695:(t,e,i)=>{var s=i(127),o=i(867);function n(t){s.call(this,t)}n.prototype=new s,n.prototype.constructor=n,n.prototype._jump=function(t,e,i,s){var o=this.grid,n=t-i,r=e-s;if(!o.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==n){if(o.isWalkableAt(t,e-1)&&!o.isWalkableAt(t-n,e-1)||o.isWalkableAt(t,e+1)&&!o.isWalkableAt(t-n,e+1))return[t,e]}else{if(0===r)throw new Error("Only horizontal and vertical movements are allowed");if(o.isWalkableAt(t-1,e)&&!o.isWalkableAt(t-1,e-r)||o.isWalkableAt(t+1,e)&&!o.isWalkableAt(t+1,e-r))return[t,e];if(this._jump(t+1,e,t,e)||this._jump(t-1,e,t,e))return[t,e]}return this._jump(t+n,e+r,t,e)},n.prototype._findNeighbors=function(t){var e,i,s,n,r,a,l,h,p=t.parent,u=t.x,c=t.y,d=this.grid,f=[];if(p)e=p.x,i=p.y,s=(u-e)/Math.max(Math.abs(u-e),1),n=(c-i)/Math.max(Math.abs(c-i),1),0!==s?(d.isWalkableAt(u,c-1)&&f.push([u,c-1]),d.isWalkableAt(u,c+1)&&f.push([u,c+1]),d.isWalkableAt(u+s,c)&&f.push([u+s,c])):0!==n&&(d.isWalkableAt(u-1,c)&&f.push([u-1,c]),d.isWalkableAt(u+1,c)&&f.push([u+1,c]),d.isWalkableAt(u,c+n)&&f.push([u,c+n]));else for(l=0,h=(r=d.getNeighbors(t,o.Never)).length;l<h;++l)a=r[l],f.push([a.x,a.y]);return f},t.exports=n},120:(t,e,i)=>{var s=i(867),o=i(695),n=i(476),r=i(86),a=i(149);t.exports=function(t){return(t=t||{}).diagonalMovement===s.Never?new o(t):t.diagonalMovement===s.Always?new n(t):t.diagonalMovement===s.OnlyWhenNoObstacles?new r(t):new a(t)}},127:(t,e,i)=>{var s=i(712),o=i(420),n=i(253);function r(t){t=t||{},this.heuristic=t.heuristic||n.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}i(867),r.prototype.findPath=function(t,e,i,n,r){var a,l=this.openList=new s((function(t,e){return t.f-e.f})),h=this.startNode=r.getNodeAt(t,e),p=this.endNode=r.getNodeAt(i,n);for(this.grid=r,h.g=0,h.f=0,l.push(h),h.opened=!0;!l.empty();){if((a=l.pop()).closed=!0,a===p)return o.expandPath(o.backtrace(p));this._identifySuccessors(a)}return[]},r.prototype._identifySuccessors=function(t){var e,i,s,o,r,a,l,h,p,u,c=this.grid,d=this.heuristic,f=this.openList,g=this.endNode.x,b=this.endNode.y,A=t.x,y=t.y,k=Math.abs;for(Math.max,o=0,r=(e=this._findNeighbors(t)).length;o<r;++o)if(i=e[o],s=this._jump(i[0],i[1],A,y)){if(a=s[0],l=s[1],(u=c.getNodeAt(a,l)).closed)continue;h=n.octile(k(a-A),k(l-y)),p=t.g+h,(!u.opened||p<u.g)&&(u.g=p,u.h=u.h||d(k(a-g),k(l-b)),u.f=u.g+u.h,u.parent=t,u.opened?f.updateItem(u):(f.push(u),u.opened=!0))}},t.exports=r},712:i=>{i.exports=function(){function t(t){this.cmp=null!=t?t:r,this.nodes=[]}return t.push=s,t.pop=o,t.replace=u,t.pushpop=a,t.heapify=n,t.nlargest=p,t.nsmallest=c,t.prototype.push=function(t){return s(this.nodes,t,this.cmp)},t.prototype.pop=function(){return o(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return u(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return a(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return n(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return f(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.remove=t.prototype.pop,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),("undefined"!=typeof e&&null!==e?e.exports:void 0)?e.exports=t:window.Heap=t}},l={};!function t(e){var s=l[e];if(void 0!==s)return s.exports;var o=l[e]={exports:{}};return i[e](o,o.exports,t),o.exports}(191)})();