(()=>{var t={191:(t,e,i)=>{i(956)},956:(t,e,i)=>{t.exports=i(706)},706:(t,e,i)=>{t.exports={Heap:i(712),Node:i(988),Grid:i(242),Util:i(420),DiagonalMovement:i(867),Heuristic:i(253),AStarFinder:i(34),BestFirstFinder:i(25),BreadthFirstFinder:i(423),DijkstraFinder:i(348),BiAStarFinder:i(935),BiBestFirstFinder:i(55),BiBreadthFirstFinder:i(766),BiDijkstraFinder:i(130),IDAStarFinder:i(592),JumpPointFinder:i(120)},window.PF={Heap:i(712),Node:i(988),Grid:i(242),Util:i(420),DiagonalMovement:i(867),Heuristic:i(253),AStarFinder:i(34),BestFirstFinder:i(25),BreadthFirstFinder:i(423),DijkstraFinder:i(348),BiAStarFinder:i(935),BiBestFirstFinder:i(55),BiBreadthFirstFinder:i(766),BiDijkstraFinder:i(130),IDAStarFinder:i(592),JumpPointFinder:i(120)}},867:t=>{t.exports={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4}},242:(t,e,i)=>{var n=i(988),r=i(867);function s(t,e,i){var n;"object"!=typeof t?n=t:(e=t.length,n=t[0].length,i=t),this.width=n,this.height=e,this.nodes=this._buildNodes(n,e,i)}s.prototype._buildNodes=function(t,e,i){var r,s,o=new Array(e);for(r=0;r<e;++r)for(o[r]=new Array(t),s=0;s<t;++s)o[r][s]=new n(s,r);if(void 0===i)return o;if(i.length!==e||i[0].length!==t)throw new Error("Matrix size does not fit");for(r=0;r<e;++r)for(s=0;s<t;++s)i[r][s]&&(o[r][s].walkable=!1);return o},s.prototype.getNodeAt=function(t,e){return this.nodes[e][t]},s.prototype.isWalkableAt=function(t,e){return this.isInside(t,e)&&this.nodes[e][t].walkable},s.prototype.isInside=function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height},s.prototype.setWalkableAt=function(t,e,i){this.nodes[e][t].walkable=i},s.prototype.getNeighbors=function(t,e){var i=t.x,n=t.y,s=[],o=!1,a=!1,l=!1,h=!1,u=!1,p=!1,c=!1,d=!1,f=this.nodes;if(this.isWalkableAt(i,n-1)&&(s.push(f[n-1][i]),o=!0),this.isWalkableAt(i+1,n)&&(s.push(f[n][i+1]),l=!0),this.isWalkableAt(i,n+1)&&(s.push(f[n+1][i]),u=!0),this.isWalkableAt(i-1,n)&&(s.push(f[n][i-1]),c=!0),e===r.Never)return s;if(e===r.OnlyWhenNoObstacles)a=c&&o,h=o&&l,p=l&&u,d=u&&c;else if(e===r.IfAtMostOneObstacle)a=c||o,h=o||l,p=l||u,d=u||c;else{if(e!==r.Always)throw new Error("Incorrect value of diagonalMovement");a=!0,h=!0,p=!0,d=!0}return a&&this.isWalkableAt(i-1,n-1)&&s.push(f[n-1][i-1]),h&&this.isWalkableAt(i+1,n-1)&&s.push(f[n-1][i+1]),p&&this.isWalkableAt(i+1,n+1)&&s.push(f[n+1][i+1]),d&&this.isWalkableAt(i-1,n+1)&&s.push(f[n+1][i-1]),s},s.prototype.clone=function(){var t,e,i=this.width,r=this.height,o=this.nodes,a=new s(i,r),l=new Array(r);for(t=0;t<r;++t)for(l[t]=new Array(i),e=0;e<i;++e)l[t][e]=new n(e,t,o[t][e].walkable);return a.nodes=l,a},t.exports=s},253:t=>{t.exports={manhattan:function(t,e){return t+e},euclidean:function(t,e){return Math.sqrt(t*t+e*e)},octile:function(t,e){var i=Math.SQRT2-1;return t<e?i*t+e:i*e+t},chebyshev:function(t,e){return Math.max(t,e)}}},988:t=>{t.exports=function(t,e,i){this.x=t,this.y=e,this.walkable=void 0===i||i}},420:(t,e)=>{function i(t){for(var e=[[t.x,t.y]];t.parent;)t=t.parent,e.push([t.x,t.y]);return e.reverse()}function n(t,e,i,n){var r,s,o,a,l,h,u=Math.abs,p=[];for(r=t<i?1:-1,s=e<n?1:-1,l=(o=u(i-t))-(a=u(n-e));p.push([t,e]),t!==i||e!==n;)(h=2*l)>-a&&(l-=a,t+=r),h<o&&(l+=o,e+=s);return p}e.backtrace=i,e.biBacktrace=function(t,e){var n=i(t),r=i(e);return n.concat(r.reverse())},e.pathLength=function(t){var e,i,n,r,s,o=0;for(e=1;e<t.length;++e)i=t[e-1],n=t[e],r=i[0]-n[0],s=i[1]-n[1],o+=Math.sqrt(r*r+s*s);return o},e.interpolate=n,e.expandPath=function(t){var e,i,r,s,o,a,l=[],h=t.length;if(h<2)return l;for(o=0;o<h-1;++o)for(e=t[o],i=t[o+1],s=(r=n(e[0],e[1],i[0],i[1])).length,a=0;a<s-1;++a)l.push(r[a]);return l.push(t[h-1]),l},e.smoothenPath=function(t,e){var i,r,s,o,a,l,h,u,p,c=e.length,d=e[0][0],f=e[0][1],g=e[c-1][0],b=e[c-1][1];for(s=[[i=d,r=f]],o=2;o<c;++o){for(h=n(i,r,(l=e[o])[0],l[1]),p=!1,a=1;a<h.length;++a)if(u=h[a],!t.isWalkableAt(u[0],u[1])){p=!0;break}p&&(lastValidCoord=e[o-1],s.push(lastValidCoord),i=lastValidCoord[0],r=lastValidCoord[1])}return s.push([g,b]),s},e.compressPath=function(t){if(t.length<3)return t;var e,i,n,r,s,o,a=[],l=t[0][0],h=t[0][1],u=t[1][0],p=t[1][1],c=u-l,d=p-h;for(c/=s=Math.sqrt(c*c+d*d),d/=s,a.push([l,h]),o=2;o<t.length;o++)e=u,i=p,n=c,r=d,c=(u=t[o][0])-e,d=(p=t[o][1])-i,d/=s=Math.sqrt(c*c+d*d),(c/=s)===n&&d===r||a.push([e,i]);return a.push([u,p]),a}},34:(t,e,i)=>{var n=i(712),r=i(420),s=i(253),o=i(867);function a(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||s.manhattan,this.weight=t.weight||1,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||s.manhattan:this.heuristic=t.heuristic||s.octile}a.prototype.findPath=function(t,e,i,s,o){var a,l,h,u,p,c,d,f,g=new n((function(t,e){return t.f-e.f})),b=o.getNodeAt(t,e),A=o.getNodeAt(i,s),v=this.heuristic,y=this.diagonalMovement,k=this.weight,m=Math.abs,W=Math.SQRT2;for(b.g=0,b.f=0,g.push(b),b.opened=!0;!g.empty();){if((a=g.pop()).closed=!0,a===A)return r.backtrace(A);for(u=0,p=(l=o.getNeighbors(a,y)).length;u<p;++u)(h=l[u]).closed||(c=h.x,d=h.y,f=a.g+(c-a.x==0||d-a.y==0?1:W),(!h.opened||f<h.g)&&(h.g=f,h.h=h.h||k*v(m(c-i),m(d-s)),h.f=h.g+h.h,h.parent=a,h.opened?g.updateItem(h):(g.push(h),h.opened=!0)))}return[]},t.exports=a},25:(t,e,i)=>{var n=i(34);function r(t){n.call(this,t);var e=this.heuristic;this.heuristic=function(t,i){return 1e6*e(t,i)}}r.prototype=new n,r.prototype.constructor=r,t.exports=r},935:(t,e,i)=>{var n=i(712),r=i(420),s=i(253),o=i(867);function a(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||s.manhattan,this.weight=t.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||s.manhattan:this.heuristic=t.heuristic||s.octile}a.prototype.findPath=function(t,e,i,s,o){var a,l,h,u,p,c,d,f,g=function(t,e){return t.f-e.f},b=new n(g),A=new n(g),v=o.getNodeAt(t,e),y=o.getNodeAt(i,s),k=this.heuristic,m=this.diagonalMovement,W=this.weight,M=Math.abs,w=Math.SQRT2;for(v.g=0,v.f=0,b.push(v),v.opened=1,y.g=0,y.f=0,A.push(y),y.opened=2;!b.empty()&&!A.empty();){for((a=b.pop()).closed=!0,u=0,p=(l=o.getNeighbors(a,m)).length;u<p;++u)if(!(h=l[u]).closed){if(2===h.opened)return r.biBacktrace(a,h);c=h.x,d=h.y,f=a.g+(c-a.x==0||d-a.y==0?1:w),(!h.opened||f<h.g)&&(h.g=f,h.h=h.h||W*k(M(c-i),M(d-s)),h.f=h.g+h.h,h.parent=a,h.opened?b.updateItem(h):(b.push(h),h.opened=1))}for((a=A.pop()).closed=!0,u=0,p=(l=o.getNeighbors(a,m)).length;u<p;++u)if(!(h=l[u]).closed){if(1===h.opened)return r.biBacktrace(h,a);c=h.x,d=h.y,f=a.g+(c-a.x==0||d-a.y==0?1:w),(!h.opened||f<h.g)&&(h.g=f,h.h=h.h||W*k(M(c-t),M(d-e)),h.f=h.g+h.h,h.parent=a,h.opened?A.updateItem(h):(A.push(h),h.opened=2))}}return[]},t.exports=a},55:(t,e,i)=>{var n=i(935);function r(t){n.call(this,t);var e=this.heuristic;this.heuristic=function(t,i){return 1e6*e(t,i)}}r.prototype=new n,r.prototype.constructor=r,t.exports=r},766:(t,e,i)=>{var n=i(420),r=i(867);function s(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=r.OnlyWhenNoObstacles:this.diagonalMovement=r.IfAtMostOneObstacle:this.diagonalMovement=r.Never)}s.prototype.findPath=function(t,e,i,r,s){var o,a,l,h,u,p=s.getNodeAt(t,e),c=s.getNodeAt(i,r),d=[],f=[],g=this.diagonalMovement;for(d.push(p),p.opened=!0,p.by=0,f.push(c),c.opened=!0,c.by=1;d.length&&f.length;){for((l=d.shift()).closed=!0,h=0,u=(o=s.getNeighbors(l,g)).length;h<u;++h)if(!(a=o[h]).closed)if(a.opened){if(1===a.by)return n.biBacktrace(l,a)}else d.push(a),a.parent=l,a.opened=!0,a.by=0;for((l=f.shift()).closed=!0,h=0,u=(o=s.getNeighbors(l,g)).length;h<u;++h)if(!(a=o[h]).closed)if(a.opened){if(0===a.by)return n.biBacktrace(a,l)}else f.push(a),a.parent=l,a.opened=!0,a.by=1}return[]},t.exports=s},130:(t,e,i)=>{var n=i(935);function r(t){n.call(this,t),this.heuristic=function(t,e){return 0}}r.prototype=new n,r.prototype.constructor=r,t.exports=r},423:(t,e,i)=>{var n=i(420),r=i(867);function s(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=r.OnlyWhenNoObstacles:this.diagonalMovement=r.IfAtMostOneObstacle:this.diagonalMovement=r.Never)}s.prototype.findPath=function(t,e,i,r,s){var o,a,l,h,u,p=[],c=this.diagonalMovement,d=s.getNodeAt(t,e),f=s.getNodeAt(i,r);for(p.push(d),d.opened=!0;p.length;){if((l=p.shift()).closed=!0,l===f)return n.backtrace(f);for(h=0,u=(o=s.getNeighbors(l,c)).length;h<u;++h)(a=o[h]).closed||a.opened||(p.push(a),a.opened=!0,a.parent=l)}return[]},t.exports=s},348:(t,e,i)=>{var n=i(34);function r(t){n.call(this,t),this.heuristic=function(t,e){return 0}}r.prototype=new n,r.prototype.constructor=r,t.exports=r},592:(t,e,i)=>{i(420);var n=i(253),r=i(988),s=i(867);function o(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||n.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=s.OnlyWhenNoObstacles:this.diagonalMovement=s.IfAtMostOneObstacle:this.diagonalMovement=s.Never),this.diagonalMovement===s.Never?this.heuristic=t.heuristic||n.manhattan:this.heuristic=t.heuristic||n.octile}o.prototype.findPath=function(t,e,i,n,s){var o,a,l,h=(new Date).getTime(),u=function(t,e){return this.heuristic(Math.abs(e.x-t.x),Math.abs(e.y-t.y))}.bind(this),p=function(t,e,i,n,o){if(this.timeLimit>0&&(new Date).getTime()-h>1e3*this.timeLimit)return 1/0;var a,l,c,f,g=e+u(t,d)*this.weight;if(g>i)return g;if(t==d)return n[o]=[t.x,t.y],t;var b,A,v=s.getNeighbors(t,this.diagonalMovement);for(c=0,a=1/0;f=v[c];++c){if(this.trackRecursion&&(f.retainCount=f.retainCount+1||1,!0!==f.tested&&(f.tested=!0)),(l=p(f,e+(A=f,(b=t).x===A.x||b.y===A.y?1:Math.SQRT2),i,n,o+1))instanceof r)return n[o]=[t.x,t.y],l;this.trackRecursion&&0==--f.retainCount&&(f.tested=!1),l<a&&(a=l)}return a}.bind(this),c=s.getNodeAt(t,e),d=s.getNodeAt(i,n),f=u(c,d);for(o=0;;++o){if((l=p(c,0,f,a=[],0))===1/0)return[];if(l instanceof r)return a;f=l}return[]},t.exports=o},476:(t,e,i)=>{var n=i(127),r=i(867);function s(t){n.call(this,t)}s.prototype=new n,s.prototype.constructor=s,s.prototype._jump=function(t,e,i,n){var r=this.grid,s=t-i,o=e-n;if(!r.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(r.getNodeAt(t,e).tested=!0),r.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==s&&0!==o){if(r.isWalkableAt(t-s,e+o)&&!r.isWalkableAt(t-s,e)||r.isWalkableAt(t+s,e-o)&&!r.isWalkableAt(t,e-o))return[t,e];if(this._jump(t+s,e,t,e)||this._jump(t,e+o,t,e))return[t,e]}else if(0!==s){if(r.isWalkableAt(t+s,e+1)&&!r.isWalkableAt(t,e+1)||r.isWalkableAt(t+s,e-1)&&!r.isWalkableAt(t,e-1))return[t,e]}else if(r.isWalkableAt(t+1,e+o)&&!r.isWalkableAt(t+1,e)||r.isWalkableAt(t-1,e+o)&&!r.isWalkableAt(t-1,e))return[t,e];return this._jump(t+s,e+o,t,e)},s.prototype._findNeighbors=function(t){var e,i,n,s,o,a,l,h,u=t.parent,p=t.x,c=t.y,d=this.grid,f=[];if(u)e=u.x,i=u.y,n=(p-e)/Math.max(Math.abs(p-e),1),s=(c-i)/Math.max(Math.abs(c-i),1),0!==n&&0!==s?(d.isWalkableAt(p,c+s)&&f.push([p,c+s]),d.isWalkableAt(p+n,c)&&f.push([p+n,c]),d.isWalkableAt(p+n,c+s)&&f.push([p+n,c+s]),d.isWalkableAt(p-n,c)||f.push([p-n,c+s]),d.isWalkableAt(p,c-s)||f.push([p+n,c-s])):0===n?(d.isWalkableAt(p,c+s)&&f.push([p,c+s]),d.isWalkableAt(p+1,c)||f.push([p+1,c+s]),d.isWalkableAt(p-1,c)||f.push([p-1,c+s])):(d.isWalkableAt(p+n,c)&&f.push([p+n,c]),d.isWalkableAt(p,c+1)||f.push([p+n,c+1]),d.isWalkableAt(p,c-1)||f.push([p+n,c-1]));else for(l=0,h=(o=d.getNeighbors(t,r.Always)).length;l<h;++l)a=o[l],f.push([a.x,a.y]);return f},t.exports=s},149:(t,e,i)=>{var n=i(127),r=i(867);function s(t){n.call(this,t)}s.prototype=new n,s.prototype.constructor=s,s.prototype._jump=function(t,e,i,n){var r=this.grid,s=t-i,o=e-n;if(!r.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(r.getNodeAt(t,e).tested=!0),r.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==s&&0!==o){if(r.isWalkableAt(t-s,e+o)&&!r.isWalkableAt(t-s,e)||r.isWalkableAt(t+s,e-o)&&!r.isWalkableAt(t,e-o))return[t,e];if(this._jump(t+s,e,t,e)||this._jump(t,e+o,t,e))return[t,e]}else if(0!==s){if(r.isWalkableAt(t+s,e+1)&&!r.isWalkableAt(t,e+1)||r.isWalkableAt(t+s,e-1)&&!r.isWalkableAt(t,e-1))return[t,e]}else if(r.isWalkableAt(t+1,e+o)&&!r.isWalkableAt(t+1,e)||r.isWalkableAt(t-1,e+o)&&!r.isWalkableAt(t-1,e))return[t,e];return r.isWalkableAt(t+s,e)||r.isWalkableAt(t,e+o)?this._jump(t+s,e+o,t,e):null},s.prototype._findNeighbors=function(t){var e,i,n,s,o,a,l,h,u=t.parent,p=t.x,c=t.y,d=this.grid,f=[];if(u)e=u.x,i=u.y,n=(p-e)/Math.max(Math.abs(p-e),1),s=(c-i)/Math.max(Math.abs(c-i),1),0!==n&&0!==s?(d.isWalkableAt(p,c+s)&&f.push([p,c+s]),d.isWalkableAt(p+n,c)&&f.push([p+n,c]),(d.isWalkableAt(p,c+s)||d.isWalkableAt(p+n,c))&&f.push([p+n,c+s]),!d.isWalkableAt(p-n,c)&&d.isWalkableAt(p,c+s)&&f.push([p-n,c+s]),!d.isWalkableAt(p,c-s)&&d.isWalkableAt(p+n,c)&&f.push([p+n,c-s])):0===n?d.isWalkableAt(p,c+s)&&(f.push([p,c+s]),d.isWalkableAt(p+1,c)||f.push([p+1,c+s]),d.isWalkableAt(p-1,c)||f.push([p-1,c+s])):d.isWalkableAt(p+n,c)&&(f.push([p+n,c]),d.isWalkableAt(p,c+1)||f.push([p+n,c+1]),d.isWalkableAt(p,c-1)||f.push([p+n,c-1]));else for(l=0,h=(o=d.getNeighbors(t,r.IfAtMostOneObstacle)).length;l<h;++l)a=o[l],f.push([a.x,a.y]);return f},t.exports=s},86:(t,e,i)=>{var n=i(127),r=i(867);function s(t){n.call(this,t)}s.prototype=new n,s.prototype.constructor=s,s.prototype._jump=function(t,e,i,n){var r=this.grid,s=t-i,o=e-n;if(!r.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(r.getNodeAt(t,e).tested=!0),r.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==s&&0!==o){if(this._jump(t+s,e,t,e)||this._jump(t,e+o,t,e))return[t,e]}else if(0!==s){if(r.isWalkableAt(t,e-1)&&!r.isWalkableAt(t-s,e-1)||r.isWalkableAt(t,e+1)&&!r.isWalkableAt(t-s,e+1))return[t,e]}else if(0!==o&&(r.isWalkableAt(t-1,e)&&!r.isWalkableAt(t-1,e-o)||r.isWalkableAt(t+1,e)&&!r.isWalkableAt(t+1,e-o)))return[t,e];return r.isWalkableAt(t+s,e)&&r.isWalkableAt(t,e+o)?this._jump(t+s,e+o,t,e):null},s.prototype._findNeighbors=function(t){var e,i,n,s,o,a,l,h,u,p=t.parent,c=t.x,d=t.y,f=this.grid,g=[];if(p){if(e=p.x,i=p.y,n=(c-e)/Math.max(Math.abs(c-e),1),s=(d-i)/Math.max(Math.abs(d-i),1),0!==n&&0!==s)f.isWalkableAt(c,d+s)&&g.push([c,d+s]),f.isWalkableAt(c+n,d)&&g.push([c+n,d]),f.isWalkableAt(c,d+s)&&f.isWalkableAt(c+n,d)&&g.push([c+n,d+s]);else if(0!==n){u=f.isWalkableAt(c+n,d);var b=f.isWalkableAt(c,d+1),A=f.isWalkableAt(c,d-1);u&&(g.push([c+n,d]),b&&g.push([c+n,d+1]),A&&g.push([c+n,d-1])),b&&g.push([c,d+1]),A&&g.push([c,d-1])}else if(0!==s){u=f.isWalkableAt(c,d+s);var v=f.isWalkableAt(c+1,d),y=f.isWalkableAt(c-1,d);u&&(g.push([c,d+s]),v&&g.push([c+1,d+s]),y&&g.push([c-1,d+s])),v&&g.push([c+1,d]),y&&g.push([c-1,d])}}else for(l=0,h=(o=f.getNeighbors(t,r.OnlyWhenNoObstacles)).length;l<h;++l)a=o[l],g.push([a.x,a.y]);return g},t.exports=s},695:(t,e,i)=>{var n=i(127),r=i(867);function s(t){n.call(this,t)}s.prototype=new n,s.prototype.constructor=s,s.prototype._jump=function(t,e,i,n){var r=this.grid,s=t-i,o=e-n;if(!r.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(r.getNodeAt(t,e).tested=!0),r.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==s){if(r.isWalkableAt(t,e-1)&&!r.isWalkableAt(t-s,e-1)||r.isWalkableAt(t,e+1)&&!r.isWalkableAt(t-s,e+1))return[t,e]}else{if(0===o)throw new Error("Only horizontal and vertical movements are allowed");if(r.isWalkableAt(t-1,e)&&!r.isWalkableAt(t-1,e-o)||r.isWalkableAt(t+1,e)&&!r.isWalkableAt(t+1,e-o))return[t,e];if(this._jump(t+1,e,t,e)||this._jump(t-1,e,t,e))return[t,e]}return this._jump(t+s,e+o,t,e)},s.prototype._findNeighbors=function(t){var e,i,n,s,o,a,l,h,u=t.parent,p=t.x,c=t.y,d=this.grid,f=[];if(u)e=u.x,i=u.y,n=(p-e)/Math.max(Math.abs(p-e),1),s=(c-i)/Math.max(Math.abs(c-i),1),0!==n?(d.isWalkableAt(p,c-1)&&f.push([p,c-1]),d.isWalkableAt(p,c+1)&&f.push([p,c+1]),d.isWalkableAt(p+n,c)&&f.push([p+n,c])):0!==s&&(d.isWalkableAt(p-1,c)&&f.push([p-1,c]),d.isWalkableAt(p+1,c)&&f.push([p+1,c]),d.isWalkableAt(p,c+s)&&f.push([p,c+s]));else for(l=0,h=(o=d.getNeighbors(t,r.Never)).length;l<h;++l)a=o[l],f.push([a.x,a.y]);return f},t.exports=s},120:(t,e,i)=>{var n=i(867),r=i(695),s=i(476),o=i(86),a=i(149);t.exports=function(t){return(t=t||{}).diagonalMovement===n.Never?new r(t):t.diagonalMovement===n.Always?new s(t):t.diagonalMovement===n.OnlyWhenNoObstacles?new o(t):new a(t)}},127:(t,e,i)=>{var n=i(712),r=i(420),s=i(253);function o(t){t=t||{},this.heuristic=t.heuristic||s.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}i(867),o.prototype.findPath=function(t,e,i,s,o){var a,l=this.openList=new n((function(t,e){return t.f-e.f})),h=this.startNode=o.getNodeAt(t,e),u=this.endNode=o.getNodeAt(i,s);for(this.grid=o,h.g=0,h.f=0,l.push(h),h.opened=!0;!l.empty();){if((a=l.pop()).closed=!0,a===u)return r.expandPath(r.backtrace(u));this._identifySuccessors(a)}return[]},o.prototype._identifySuccessors=function(t){var e,i,n,r,o,a,l,h,u,p,c=this.grid,d=this.heuristic,f=this.openList,g=this.endNode.x,b=this.endNode.y,A=t.x,v=t.y,y=Math.abs;for(Math.max,r=0,o=(e=this._findNeighbors(t)).length;r<o;++r)if(i=e[r],n=this._jump(i[0],i[1],A,v)){if(a=n[0],l=n[1],(p=c.getNodeAt(a,l)).closed)continue;h=s.octile(y(a-A),y(l-v)),u=t.g+h,(!p.opened||u<p.g)&&(p.g=u,p.h=p.h||d(y(a-g),y(l-b)),p.f=p.g+p.h,p.parent=t,p.opened?f.updateItem(p):(f.push(p),p.opened=!0))}},t.exports=o},712:t=>{var i,n,r,s,o,a,l,h,u,p,c,d,f,g,b;r=Math.floor,p=Math.min,n=function(t,e){return e>t?-1:t>e?1:0},u=function(t,e,i,s,o){var a;if(null==i&&(i=0),null==o&&(o=n),0>i)throw new Error("lo must be non-negative");for(null==s&&(s=t.length);s>i;)o(e,t[a=r((i+s)/2)])<0?s=a:i=a+1;return[].splice.apply(t,[i,i-i].concat(e)),e},a=function(t,e,i){return null==i&&(i=n),t.push(e),g(t,0,t.length-1,i)},o=function(t,e){var i,r;return null==e&&(e=n),i=t.pop(),t.length?(r=t[0],t[0]=i,b(t,0,e)):r=i,r},h=function(t,e,i){var r;return null==i&&(i=n),r=t[0],t[0]=e,b(t,0,i),r},l=function(t,e,i){var r;return null==i&&(i=n),t.length&&i(t[0],e)<0&&(e=(r=[t[0],e])[0],t[0]=r[1],b(t,0,i)),e},s=function(t,e){var i,s,o,a,l,h;for(null==e&&(e=n),l=[],s=0,o=(a=function(){h=[];for(var e=0,i=r(t.length/2);i>=0?i>e:e>i;i>=0?e++:e--)h.push(e);return h}.apply(this).reverse()).length;o>s;s++)i=a[s],l.push(b(t,i,e));return l},f=function(t,e,i){var r;return null==i&&(i=n),-1!==(r=t.indexOf(e))?(g(t,0,r,i),b(t,r,i)):void 0},c=function(t,e,i){var r,o,a,h,u;if(null==i&&(i=n),!(o=t.slice(0,e)).length)return o;for(s(o,i),a=0,h=(u=t.slice(e)).length;h>a;a++)r=u[a],l(o,r,i);return o.sort(i).reverse()},d=function(t,e,i){var r,a,l,h,c,d,f,g,b;if(null==i&&(i=n),10*e<=t.length){if(!(l=t.slice(0,e).sort(i)).length)return l;for(a=l[l.length-1],h=0,d=(f=t.slice(e)).length;d>h;h++)i(r=f[h],a)<0&&(u(l,r,0,null,i),l.pop(),a=l[l.length-1]);return l}for(s(t,i),b=[],c=0,g=p(e,t.length);g>=0?g>c:c>g;g>=0?++c:--c)b.push(o(t,i));return b},g=function(t,e,i,r){var s,o,a;for(null==r&&(r=n),s=t[i];i>e&&r(s,o=t[a=i-1>>1])<0;)t[i]=o,i=a;return t[i]=s},b=function(t,e,i){var r,s,o,a,l;for(null==i&&(i=n),s=t.length,l=e,o=t[e],r=2*e+1;s>r;)s>(a=r+1)&&!(i(t[r],t[a])<0)&&(r=a),t[e]=t[r],r=2*(e=r)+1;return t[e]=o,g(t,l,e,i)},i=function(){function t(t){this.cmp=null!=t?t:n,this.nodes=[]}return t.push=a,t.pop=o,t.replace=h,t.pushpop=l,t.heapify=s,t.nlargest=c,t.nsmallest=d,t.prototype.push=function(t){return a(this.nodes,t,this.cmp)},t.prototype.pop=function(){return o(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return h(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return l(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return s(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return f(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.remove=t.prototype.pop,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),("undefined"!=typeof e&&null!==e?e.exports:void 0)?e.exports=i:window.Heap=i,t.exports=i}},i={};!function e(n){var r=i[n];if(void 0!==r)return r.exports;var s=i[n]={exports:{}};return t[n](s,s.exports,e),s.exports}(191)})();