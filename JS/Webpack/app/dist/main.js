(()=>{var t={191:(t,e,n)=>{n(925)},925:(t,e,n)=>{PF={Heap:n(353),Node:n(561),Grid:n(481),Util:n(902),DiagonalMovement:n(911),Heuristic:n(223),AStarFinder:n(878),BestFirstFinder:n(174),BreadthFirstFinder:n(634),DijkstraFinder:n(929),BiAStarFinder:n(534),BiBestFirstFinder:n(57),BiBreadthFirstFinder:n(764),BiDijkstraFinder:n(738),IDAStarFinder:n(807),JumpPointFinder:n(544)},t.exports=PF},911:t=>{t.exports={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4}},481:(t,e,n)=>{var i=n(561),o=n(911);function r(t,e,n){var i;"object"!=typeof t?i=t:(e=t.length,i=t[0].length,n=t),this.width=i,this.height=e,this.nodes=this._buildNodes(i,e,n)}r.prototype._buildNodes=function(t,e,n){var o,r,s=new Array(e);for(o=0;o<e;++o)for(s[o]=new Array(t),r=0;r<t;++r)s[o][r]=new i(r,o);if(void 0===n)return s;if(n.length!==e||n[0].length!==t)throw new Error("Matrix size does not fit");for(o=0;o<e;++o)for(r=0;r<t;++r)n[o][r]&&(s[o][r].walkable=!1);return s},r.prototype.getNodeAt=function(t,e){return this.nodes[e][t]},r.prototype.isWalkableAt=function(t,e){return this.isInside(t,e)&&this.nodes[e][t].walkable},r.prototype.isInside=function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height},r.prototype.setWalkableAt=function(t,e,n){this.nodes[e][t].walkable=n},r.prototype.getNeighbors=function(t,e){var n=t.x,i=t.y,r=[],s=!1,a=!1,l=!1,h=!1,u=!1,p=!1,c=!1,f=!1,d=this.nodes;if(this.isWalkableAt(n,i-1)&&(r.push(d[i-1][n]),s=!0),this.isWalkableAt(n+1,i)&&(r.push(d[i][n+1]),l=!0),this.isWalkableAt(n,i+1)&&(r.push(d[i+1][n]),u=!0),this.isWalkableAt(n-1,i)&&(r.push(d[i][n-1]),c=!0),e===o.Never)return r;if(e===o.OnlyWhenNoObstacles)a=c&&s,h=s&&l,p=l&&u,f=u&&c;else if(e===o.IfAtMostOneObstacle)a=c||s,h=s||l,p=l||u,f=u||c;else{if(e!==o.Always)throw new Error("Incorrect value of diagonalMovement");a=!0,h=!0,p=!0,f=!0}return a&&this.isWalkableAt(n-1,i-1)&&r.push(d[i-1][n-1]),h&&this.isWalkableAt(n+1,i-1)&&r.push(d[i-1][n+1]),p&&this.isWalkableAt(n+1,i+1)&&r.push(d[i+1][n+1]),f&&this.isWalkableAt(n-1,i+1)&&r.push(d[i+1][n-1]),r},r.prototype.clone=function(){var t,e,n=this.width,o=this.height,s=this.nodes,a=new r(n,o),l=new Array(o);for(t=0;t<o;++t)for(l[t]=new Array(n),e=0;e<n;++e)l[t][e]=new i(e,t,s[t][e].walkable);return a.nodes=l,a},t.exports=r},223:t=>{t.exports={manhattan:function(t,e){return t+e},euclidean:function(t,e){return Math.sqrt(t*t+e*e)},octile:function(t,e){var n=Math.SQRT2-1;return t<e?n*t+e:n*e+t},chebyshev:function(t,e){return Math.max(t,e)}}},561:t=>{t.exports=function(t,e,n){this.x=t,this.y=e,this.walkable=void 0===n||n}},902:(t,e)=>{function n(t){for(var e=[[t.x,t.y]];t.parent;)t=t.parent,e.push([t.x,t.y]);return e.reverse()}function i(t,e,n,i){var o,r,s,a,l,h,u=Math.abs,p=[];for(o=t<n?1:-1,r=e<i?1:-1,l=(s=u(n-t))-(a=u(i-e));p.push([t,e]),t!==n||e!==i;)(h=2*l)>-a&&(l-=a,t+=o),h<s&&(l+=s,e+=r);return p}e.backtrace=n,e.biBacktrace=function(t,e){var i=n(t),o=n(e);return i.concat(o.reverse())},e.pathLength=function(t){var e,n,i,o,r,s=0;for(e=1;e<t.length;++e)n=t[e-1],i=t[e],o=n[0]-i[0],r=n[1]-i[1],s+=Math.sqrt(o*o+r*r);return s},e.interpolate=i,e.expandPath=function(t){var e,n,o,r,s,a,l=[],h=t.length;if(h<2)return l;for(s=0;s<h-1;++s)for(e=t[s],n=t[s+1],r=(o=i(e[0],e[1],n[0],n[1])).length,a=0;a<r-1;++a)l.push(o[a]);return l.push(t[h-1]),l},e.smoothenPath=function(t,e){var n,o,r,s,a,l,h,u,p,c=e.length,f=e[0][0],d=e[0][1],g=e[c-1][0],b=e[c-1][1];for(r=[[n=f,o=d]],s=2;s<c;++s){for(h=i(n,o,(l=e[s])[0],l[1]),p=!1,a=1;a<h.length;++a)if(u=h[a],!t.isWalkableAt(u[0],u[1])){p=!0;break}p&&(lastValidCoord=e[s-1],r.push(lastValidCoord),n=lastValidCoord[0],o=lastValidCoord[1])}return r.push([g,b]),r},e.compressPath=function(t){if(t.length<3)return t;var e,n,i,o,r,s,a=[],l=t[0][0],h=t[0][1],u=t[1][0],p=t[1][1],c=u-l,f=p-h;for(c/=r=Math.sqrt(c*c+f*f),f/=r,a.push([l,h]),s=2;s<t.length;s++)e=u,n=p,i=c,o=f,c=(u=t[s][0])-e,f=(p=t[s][1])-n,f/=r=Math.sqrt(c*c+f*f),(c/=r)===i&&f===o||a.push([e,n]);return a.push([u,p]),a}},878:(t,e,n)=>{var i=n(353),o=n(902),r=n(223),s=n(911);function a(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||r.manhattan,this.weight=t.weight||1,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=s.OnlyWhenNoObstacles:this.diagonalMovement=s.IfAtMostOneObstacle:this.diagonalMovement=s.Never),this.diagonalMovement===s.Never?this.heuristic=t.heuristic||r.manhattan:this.heuristic=t.heuristic||r.octile}a.prototype.findPath=function(t,e,n,r,s){for(var a=[],l=0;l<s.nodes.length;l++)for(var h=0;h<s.nodes.length;h++){var u=s.nodes[l][h].boardAngle;void 0!==u&&a.push([l,h,u])}console.log("boards:",a),console.log("boards_l:",a.length);var p,c,f,d,g,b,v,A,y,k,m,W,M,w,x=new i((function(t,e){return t.f-e.f})),N=s.getNodeAt(t,e),C=s.getNodeAt(n,r),O=this.heuristic,_=this.diagonalMovement,D=this.weight,j=Math.abs,I=Math.SQRT2;for(N.g=0,N.f=0,x.push(N),N.opened=!0;!x.empty();){if((p=x.pop()).closed=!0,p===C)return o.backtrace(C);for(l=0,d=(c=s.getNeighbors(p,_)).length;l<d;++l)if(!(f=c[l]).closed&&(g=f.x,b=f.y,v=p.g+(g-p.x==0||b-p.y==0?1:I),!f.opened||v<f.g)){function F(t,e,n,i){return Math.pow(Math.pow(t-e,2)+Math.pow(n-i,2),2)}f.g=v,f.h=f.h||D*O(j(g-n),j(b-r)),a.length>0?(f.l=f.l||(A=p.x,y=p.y,W=void 0,M=void 0,w=void 0,W=function(t,e){if(0===a.length)return null;for(var n=F(a[0][0],t,a[0][1],e),i=0,o=1;o<a.length;o++){var r=F(a[o][0],t,a[o][1],e);r<n&&(n=r,i=o)}return a[i]}(k=g,m=b),M=function(t,e,n,i,o){var r=n-t,s=i-e,a=Math.atan2(r,s),l=Math.abs(a-o);return l>Math.PI&&(l=2*Math.PI-l),l}(A,y,k,m,W[2]),0===(w=F(W[0],k,W[1],m))&&(w=1e-5),console.log("angle:",W[2]),M/w),f.f=(f.g+f.h)*(f.l+.01)):f.f=f.g+f.h,f.parent=p,f.opened?x.updateItem(f):(x.push(f),f.opened=!0)}}return[]},a.prototype.findPath0=function(t,e,n,r,s){var a,l,h,u,p,c,f,d,g=new i((function(t,e){return t.f-e.f})),b=s.getNodeAt(t,e),v=s.getNodeAt(n,r),A=this.heuristic,y=this.diagonalMovement,k=this.weight,m=Math.abs,W=Math.SQRT2;for(b.g=0,b.f=0,g.push(b),b.opened=!0;!g.empty();){if((a=g.pop()).closed=!0,a===v)return o.backtrace(v);for(u=0,p=(l=s.getNeighbors(a,y)).length;u<p;++u)(h=l[u]).closed||(c=h.x,f=h.y,d=a.g+(c-a.x==0||f-a.y==0?1:W),(!h.opened||d<h.g)&&(h.g=d,h.h=h.h||k*A(m(c-n),m(f-r)),h.f=h.g+h.h,h.parent=a,h.opened?g.updateItem(h):(g.push(h),h.opened=!0)))}return[]},t.exports=a},174:(t,e,n)=>{var i=n(878);function o(t){i.call(this,t);var e=this.heuristic;this.heuristic=function(t,n){return 1e6*e(t,n)}}o.prototype=new i,o.prototype.constructor=o,t.exports=o},534:(t,e,n)=>{var i=n(353),o=n(902),r=n(223),s=n(911);function a(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||r.manhattan,this.weight=t.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=s.OnlyWhenNoObstacles:this.diagonalMovement=s.IfAtMostOneObstacle:this.diagonalMovement=s.Never),this.diagonalMovement===s.Never?this.heuristic=t.heuristic||r.manhattan:this.heuristic=t.heuristic||r.octile}a.prototype.findPath=function(t,e,n,r,s){var a,l,h,u,p,c,f,d,g=function(t,e){return t.f-e.f},b=new i(g),v=new i(g),A=s.getNodeAt(t,e),y=s.getNodeAt(n,r),k=this.heuristic,m=this.diagonalMovement,W=this.weight,M=Math.abs,w=Math.SQRT2;for(A.g=0,A.f=0,b.push(A),A.opened=1,y.g=0,y.f=0,v.push(y),y.opened=2;!b.empty()&&!v.empty();){for((a=b.pop()).closed=!0,u=0,p=(l=s.getNeighbors(a,m)).length;u<p;++u)if(!(h=l[u]).closed){if(2===h.opened)return o.biBacktrace(a,h);c=h.x,f=h.y,d=a.g+(c-a.x==0||f-a.y==0?1:w),(!h.opened||d<h.g)&&(h.g=d,h.h=h.h||W*k(M(c-n),M(f-r)),h.f=h.g+h.h,h.parent=a,h.opened?b.updateItem(h):(b.push(h),h.opened=1))}for((a=v.pop()).closed=!0,u=0,p=(l=s.getNeighbors(a,m)).length;u<p;++u)if(!(h=l[u]).closed){if(1===h.opened)return o.biBacktrace(h,a);c=h.x,f=h.y,d=a.g+(c-a.x==0||f-a.y==0?1:w),(!h.opened||d<h.g)&&(h.g=d,h.h=h.h||W*k(M(c-t),M(f-e)),h.f=h.g+h.h,h.parent=a,h.opened?v.updateItem(h):(v.push(h),h.opened=2))}}return[]},t.exports=a},57:(t,e,n)=>{var i=n(534);function o(t){i.call(this,t);var e=this.heuristic;this.heuristic=function(t,n){return 1e6*e(t,n)}}o.prototype=new i,o.prototype.constructor=o,t.exports=o},764:(t,e,n)=>{var i=n(902),o=n(911);function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never)}r.prototype.findPath=function(t,e,n,o,r){var s,a,l,h,u,p=r.getNodeAt(t,e),c=r.getNodeAt(n,o),f=[],d=[],g=this.diagonalMovement;for(f.push(p),p.opened=!0,p.by=0,d.push(c),c.opened=!0,c.by=1;f.length&&d.length;){for((l=f.shift()).closed=!0,h=0,u=(s=r.getNeighbors(l,g)).length;h<u;++h)if(!(a=s[h]).closed)if(a.opened){if(1===a.by)return i.biBacktrace(l,a)}else f.push(a),a.parent=l,a.opened=!0,a.by=0;for((l=d.shift()).closed=!0,h=0,u=(s=r.getNeighbors(l,g)).length;h<u;++h)if(!(a=s[h]).closed)if(a.opened){if(0===a.by)return i.biBacktrace(a,l)}else d.push(a),a.parent=l,a.opened=!0,a.by=1}return[]},t.exports=r},738:(t,e,n)=>{var i=n(534);function o(t){i.call(this,t),this.heuristic=function(t,e){return 0}}o.prototype=new i,o.prototype.constructor=o,t.exports=o},634:(t,e,n)=>{var i=n(902),o=n(911);function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never)}r.prototype.findPath=function(t,e,n,o,r){var s,a,l,h,u,p=[],c=this.diagonalMovement,f=r.getNodeAt(t,e),d=r.getNodeAt(n,o);for(p.push(f),f.opened=!0;p.length;){if((l=p.shift()).closed=!0,l===d)return i.backtrace(d);for(h=0,u=(s=r.getNeighbors(l,c)).length;h<u;++h)(a=s[h]).closed||a.opened||(p.push(a),a.opened=!0,a.parent=l)}return[]},t.exports=r},929:(t,e,n)=>{var i=n(878);function o(t){i.call(this,t),this.heuristic=function(t,e){return 0}}o.prototype=new i,o.prototype.constructor=o,t.exports=o},807:(t,e,n)=>{n(902);var i=n(223),o=n(561),r=n(911);function s(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||i.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=r.OnlyWhenNoObstacles:this.diagonalMovement=r.IfAtMostOneObstacle:this.diagonalMovement=r.Never),this.diagonalMovement===r.Never?this.heuristic=t.heuristic||i.manhattan:this.heuristic=t.heuristic||i.octile}s.prototype.findPath=function(t,e,n,i,r){var s,a,l,h=(new Date).getTime(),u=function(t,e){return this.heuristic(Math.abs(e.x-t.x),Math.abs(e.y-t.y))}.bind(this),p=function(t,e,n,i,s){if(this.timeLimit>0&&(new Date).getTime()-h>1e3*this.timeLimit)return 1/0;var a,l,c,d,g=e+u(t,f)*this.weight;if(g>n)return g;if(t==f)return i[s]=[t.x,t.y],t;var b,v,A=r.getNeighbors(t,this.diagonalMovement);for(c=0,a=1/0;d=A[c];++c){if(this.trackRecursion&&(d.retainCount=d.retainCount+1||1,!0!==d.tested&&(d.tested=!0)),(l=p(d,e+(v=d,(b=t).x===v.x||b.y===v.y?1:Math.SQRT2),n,i,s+1))instanceof o)return i[s]=[t.x,t.y],l;this.trackRecursion&&0==--d.retainCount&&(d.tested=!1),l<a&&(a=l)}return a}.bind(this),c=r.getNodeAt(t,e),f=r.getNodeAt(n,i),d=u(c,f);for(s=0;;++s){if((l=p(c,0,d,a=[],0))===1/0)return[];if(l instanceof o)return a;d=l}return[]},t.exports=s},227:(t,e,n)=>{var i=n(150),o=n(911);function r(t){i.call(this,t)}r.prototype=new i,r.prototype.constructor=r,r.prototype._jump=function(t,e,n,i){var o=this.grid,r=t-n,s=e-i;if(!o.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==r&&0!==s){if(o.isWalkableAt(t-r,e+s)&&!o.isWalkableAt(t-r,e)||o.isWalkableAt(t+r,e-s)&&!o.isWalkableAt(t,e-s))return[t,e];if(this._jump(t+r,e,t,e)||this._jump(t,e+s,t,e))return[t,e]}else if(0!==r){if(o.isWalkableAt(t+r,e+1)&&!o.isWalkableAt(t,e+1)||o.isWalkableAt(t+r,e-1)&&!o.isWalkableAt(t,e-1))return[t,e]}else if(o.isWalkableAt(t+1,e+s)&&!o.isWalkableAt(t+1,e)||o.isWalkableAt(t-1,e+s)&&!o.isWalkableAt(t-1,e))return[t,e];return this._jump(t+r,e+s,t,e)},r.prototype._findNeighbors=function(t){var e,n,i,r,s,a,l,h,u=t.parent,p=t.x,c=t.y,f=this.grid,d=[];if(u)e=u.x,n=u.y,i=(p-e)/Math.max(Math.abs(p-e),1),r=(c-n)/Math.max(Math.abs(c-n),1),0!==i&&0!==r?(f.isWalkableAt(p,c+r)&&d.push([p,c+r]),f.isWalkableAt(p+i,c)&&d.push([p+i,c]),f.isWalkableAt(p+i,c+r)&&d.push([p+i,c+r]),f.isWalkableAt(p-i,c)||d.push([p-i,c+r]),f.isWalkableAt(p,c-r)||d.push([p+i,c-r])):0===i?(f.isWalkableAt(p,c+r)&&d.push([p,c+r]),f.isWalkableAt(p+1,c)||d.push([p+1,c+r]),f.isWalkableAt(p-1,c)||d.push([p-1,c+r])):(f.isWalkableAt(p+i,c)&&d.push([p+i,c]),f.isWalkableAt(p,c+1)||d.push([p+i,c+1]),f.isWalkableAt(p,c-1)||d.push([p+i,c-1]));else for(l=0,h=(s=f.getNeighbors(t,o.Always)).length;l<h;++l)a=s[l],d.push([a.x,a.y]);return d},t.exports=r},169:(t,e,n)=>{var i=n(150),o=n(911);function r(t){i.call(this,t)}r.prototype=new i,r.prototype.constructor=r,r.prototype._jump=function(t,e,n,i){var o=this.grid,r=t-n,s=e-i;if(!o.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==r&&0!==s){if(o.isWalkableAt(t-r,e+s)&&!o.isWalkableAt(t-r,e)||o.isWalkableAt(t+r,e-s)&&!o.isWalkableAt(t,e-s))return[t,e];if(this._jump(t+r,e,t,e)||this._jump(t,e+s,t,e))return[t,e]}else if(0!==r){if(o.isWalkableAt(t+r,e+1)&&!o.isWalkableAt(t,e+1)||o.isWalkableAt(t+r,e-1)&&!o.isWalkableAt(t,e-1))return[t,e]}else if(o.isWalkableAt(t+1,e+s)&&!o.isWalkableAt(t+1,e)||o.isWalkableAt(t-1,e+s)&&!o.isWalkableAt(t-1,e))return[t,e];return o.isWalkableAt(t+r,e)||o.isWalkableAt(t,e+s)?this._jump(t+r,e+s,t,e):null},r.prototype._findNeighbors=function(t){var e,n,i,r,s,a,l,h,u=t.parent,p=t.x,c=t.y,f=this.grid,d=[];if(u)e=u.x,n=u.y,i=(p-e)/Math.max(Math.abs(p-e),1),r=(c-n)/Math.max(Math.abs(c-n),1),0!==i&&0!==r?(f.isWalkableAt(p,c+r)&&d.push([p,c+r]),f.isWalkableAt(p+i,c)&&d.push([p+i,c]),(f.isWalkableAt(p,c+r)||f.isWalkableAt(p+i,c))&&d.push([p+i,c+r]),!f.isWalkableAt(p-i,c)&&f.isWalkableAt(p,c+r)&&d.push([p-i,c+r]),!f.isWalkableAt(p,c-r)&&f.isWalkableAt(p+i,c)&&d.push([p+i,c-r])):0===i?f.isWalkableAt(p,c+r)&&(d.push([p,c+r]),f.isWalkableAt(p+1,c)||d.push([p+1,c+r]),f.isWalkableAt(p-1,c)||d.push([p-1,c+r])):f.isWalkableAt(p+i,c)&&(d.push([p+i,c]),f.isWalkableAt(p,c+1)||d.push([p+i,c+1]),f.isWalkableAt(p,c-1)||d.push([p+i,c-1]));else for(l=0,h=(s=f.getNeighbors(t,o.IfAtMostOneObstacle)).length;l<h;++l)a=s[l],d.push([a.x,a.y]);return d},t.exports=r},410:(t,e,n)=>{var i=n(150),o=n(911);function r(t){i.call(this,t)}r.prototype=new i,r.prototype.constructor=r,r.prototype._jump=function(t,e,n,i){var o=this.grid,r=t-n,s=e-i;if(!o.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==r&&0!==s){if(this._jump(t+r,e,t,e)||this._jump(t,e+s,t,e))return[t,e]}else if(0!==r){if(o.isWalkableAt(t,e-1)&&!o.isWalkableAt(t-r,e-1)||o.isWalkableAt(t,e+1)&&!o.isWalkableAt(t-r,e+1))return[t,e]}else if(0!==s&&(o.isWalkableAt(t-1,e)&&!o.isWalkableAt(t-1,e-s)||o.isWalkableAt(t+1,e)&&!o.isWalkableAt(t+1,e-s)))return[t,e];return o.isWalkableAt(t+r,e)&&o.isWalkableAt(t,e+s)?this._jump(t+r,e+s,t,e):null},r.prototype._findNeighbors=function(t){var e,n,i,r,s,a,l,h,u,p=t.parent,c=t.x,f=t.y,d=this.grid,g=[];if(p){if(e=p.x,n=p.y,i=(c-e)/Math.max(Math.abs(c-e),1),r=(f-n)/Math.max(Math.abs(f-n),1),0!==i&&0!==r)d.isWalkableAt(c,f+r)&&g.push([c,f+r]),d.isWalkableAt(c+i,f)&&g.push([c+i,f]),d.isWalkableAt(c,f+r)&&d.isWalkableAt(c+i,f)&&g.push([c+i,f+r]);else if(0!==i){u=d.isWalkableAt(c+i,f);var b=d.isWalkableAt(c,f+1),v=d.isWalkableAt(c,f-1);u&&(g.push([c+i,f]),b&&g.push([c+i,f+1]),v&&g.push([c+i,f-1])),b&&g.push([c,f+1]),v&&g.push([c,f-1])}else if(0!==r){u=d.isWalkableAt(c,f+r);var A=d.isWalkableAt(c+1,f),y=d.isWalkableAt(c-1,f);u&&(g.push([c,f+r]),A&&g.push([c+1,f+r]),y&&g.push([c-1,f+r])),A&&g.push([c+1,f]),y&&g.push([c-1,f])}}else for(l=0,h=(s=d.getNeighbors(t,o.OnlyWhenNoObstacles)).length;l<h;++l)a=s[l],g.push([a.x,a.y]);return g},t.exports=r},427:(t,e,n)=>{var i=n(150),o=n(911);function r(t){i.call(this,t)}r.prototype=new i,r.prototype.constructor=r,r.prototype._jump=function(t,e,n,i){var o=this.grid,r=t-n,s=e-i;if(!o.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==r){if(o.isWalkableAt(t,e-1)&&!o.isWalkableAt(t-r,e-1)||o.isWalkableAt(t,e+1)&&!o.isWalkableAt(t-r,e+1))return[t,e]}else{if(0===s)throw new Error("Only horizontal and vertical movements are allowed");if(o.isWalkableAt(t-1,e)&&!o.isWalkableAt(t-1,e-s)||o.isWalkableAt(t+1,e)&&!o.isWalkableAt(t+1,e-s))return[t,e];if(this._jump(t+1,e,t,e)||this._jump(t-1,e,t,e))return[t,e]}return this._jump(t+r,e+s,t,e)},r.prototype._findNeighbors=function(t){var e,n,i,r,s,a,l,h,u=t.parent,p=t.x,c=t.y,f=this.grid,d=[];if(u)e=u.x,n=u.y,i=(p-e)/Math.max(Math.abs(p-e),1),r=(c-n)/Math.max(Math.abs(c-n),1),0!==i?(f.isWalkableAt(p,c-1)&&d.push([p,c-1]),f.isWalkableAt(p,c+1)&&d.push([p,c+1]),f.isWalkableAt(p+i,c)&&d.push([p+i,c])):0!==r&&(f.isWalkableAt(p-1,c)&&d.push([p-1,c]),f.isWalkableAt(p+1,c)&&d.push([p+1,c]),f.isWalkableAt(p,c+r)&&d.push([p,c+r]));else for(l=0,h=(s=f.getNeighbors(t,o.Never)).length;l<h;++l)a=s[l],d.push([a.x,a.y]);return d},t.exports=r},544:(t,e,n)=>{var i=n(911),o=n(427),r=n(227),s=n(410),a=n(169);t.exports=function(t){return(t=t||{}).diagonalMovement===i.Never?new o(t):t.diagonalMovement===i.Always?new r(t):t.diagonalMovement===i.OnlyWhenNoObstacles?new s(t):new a(t)}},150:(t,e,n)=>{var i=n(353),o=n(902),r=n(223);function s(t){t=t||{},this.heuristic=t.heuristic||r.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}n(911),s.prototype.findPath=function(t,e,n,r,s){var a,l=this.openList=new i((function(t,e){return t.f-e.f})),h=this.startNode=s.getNodeAt(t,e),u=this.endNode=s.getNodeAt(n,r);for(this.grid=s,h.g=0,h.f=0,l.push(h),h.opened=!0;!l.empty();){if((a=l.pop()).closed=!0,a===u)return o.expandPath(o.backtrace(u));this._identifySuccessors(a)}return[]},s.prototype._identifySuccessors=function(t){var e,n,i,o,s,a,l,h,u,p,c=this.grid,f=this.heuristic,d=this.openList,g=this.endNode.x,b=this.endNode.y,v=t.x,A=t.y,y=Math.abs;for(Math.max,o=0,s=(e=this._findNeighbors(t)).length;o<s;++o)if(n=e[o],i=this._jump(n[0],n[1],v,A)){if(a=i[0],l=i[1],(p=c.getNodeAt(a,l)).closed)continue;h=r.octile(y(a-v),y(l-A)),u=t.g+h,(!p.opened||u<p.g)&&(p.g=u,p.h=p.h||f(y(a-g),y(l-b)),p.f=p.g+p.h,p.parent=t,p.opened?d.updateItem(p):(d.push(p),p.opened=!0))}},t.exports=s},353:t=>{var n,i,o,r,s,a,l,h,u,p,c,f,d,g,b;o=Math.floor,p=Math.min,i=function(t,e){return e>t?-1:t>e?1:0},u=function(t,e,n,r,s){var a;if(null==n&&(n=0),null==s&&(s=i),0>n)throw new Error("lo must be non-negative");for(null==r&&(r=t.length);r>n;)s(e,t[a=o((n+r)/2)])<0?r=a:n=a+1;return[].splice.apply(t,[n,n-n].concat(e)),e},a=function(t,e,n){return null==n&&(n=i),t.push(e),g(t,0,t.length-1,n)},s=function(t,e){var n,o;return null==e&&(e=i),n=t.pop(),t.length?(o=t[0],t[0]=n,b(t,0,e)):o=n,o},h=function(t,e,n){var o;return null==n&&(n=i),o=t[0],t[0]=e,b(t,0,n),o},l=function(t,e,n){var o;return null==n&&(n=i),t.length&&n(t[0],e)<0&&(e=(o=[t[0],e])[0],t[0]=o[1],b(t,0,n)),e},r=function(t,e){var n,r,s,a,l,h;for(null==e&&(e=i),l=[],r=0,s=(a=function(){h=[];for(var e=0,n=o(t.length/2);n>=0?n>e:e>n;n>=0?e++:e--)h.push(e);return h}.apply(this).reverse()).length;s>r;r++)n=a[r],l.push(b(t,n,e));return l},d=function(t,e,n){var o;return null==n&&(n=i),-1!==(o=t.indexOf(e))?(g(t,0,o,n),b(t,o,n)):void 0},c=function(t,e,n){var o,s,a,h,u;if(null==n&&(n=i),!(s=t.slice(0,e)).length)return s;for(r(s,n),a=0,h=(u=t.slice(e)).length;h>a;a++)o=u[a],l(s,o,n);return s.sort(n).reverse()},f=function(t,e,n){var o,a,l,h,c,f,d,g,b;if(null==n&&(n=i),10*e<=t.length){if(!(l=t.slice(0,e).sort(n)).length)return l;for(a=l[l.length-1],h=0,f=(d=t.slice(e)).length;f>h;h++)n(o=d[h],a)<0&&(u(l,o,0,null,n),l.pop(),a=l[l.length-1]);return l}for(r(t,n),b=[],c=0,g=p(e,t.length);g>=0?g>c:c>g;g>=0?++c:--c)b.push(s(t,n));return b},g=function(t,e,n,o){var r,s,a;for(null==o&&(o=i),r=t[n];n>e&&o(r,s=t[a=n-1>>1])<0;)t[n]=s,n=a;return t[n]=r},b=function(t,e,n){var o,r,s,a,l;for(null==n&&(n=i),r=t.length,l=e,s=t[e],o=2*e+1;r>o;)r>(a=o+1)&&!(n(t[o],t[a])<0)&&(o=a),t[e]=t[o],o=2*(e=o)+1;return t[e]=s,g(t,l,e,n)},n=function(){function t(t){this.cmp=null!=t?t:i,this.nodes=[]}return t.push=a,t.pop=s,t.replace=h,t.pushpop=l,t.heapify=r,t.nlargest=c,t.nsmallest=f,t.prototype.push=function(t){return a(this.nodes,t,this.cmp)},t.prototype.pop=function(){return s(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return h(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return l(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return r(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return d(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.remove=t.prototype.pop,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),("undefined"!=typeof e&&null!==e?e.exports:void 0)?e.exports=n:window.Heap=n,t.exports=n}},n={};!function e(i){var o=n[i];if(void 0!==o)return o.exports;var r=n[i]={exports:{}};return t[i](r,r.exports,e),r.exports}(191)})();